<div *ngIf="typingTree; then showBlock else doNotShowBlock"></div>
<ng-template #showBlock>
    <div class="wrapper">
        <div class="labelWrapper" [ngStyle]="{'color': _color}">
            {{typingTree.label}}
        </div>
        <div class="bodyWrapper">
            <!-- Recursive rendering of children until leafs -->
            <div class="childrenWrapper">
                <app-typing-tree class="child" [typingTree]="child"
                    *ngFor="let child of typingTree.children; let i = index"
                    [ngStyle]="{'width': typingTree.getRelativeSizeOfChild(i) + '%'}"
                    [ngClass]="{'notLastChild': i !== typingTree.children.length-1}">
                </app-typing-tree>
            </div>
            <div class="divider" [ngStyle]="{'border-top': 'solid 1.5px ' + _color}"></div>
            <div class="text" [ngStyle]="{'color': _color}">
                {{typingTree.text}}
                <div *ngIf="typingTree.structuralSubtypingQuery; then showSubtypingLink"></div>
            </div>
        </div>
    </div>
</ng-template>
<ng-template #showSubtypingLink>
    <button #menuTrigger="matMenuTrigger" [matMenuTriggerFor]="menu">{{"<="}}</button>
    <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="_onClickSubtypingQuery(typingTree.structuralSubtypingQuery)">
            <span>{{typingTree.structuralSubtypingQuery.toString()}}</span>
        </button>
    </mat-menu>
</ng-template>
<ng-template #doNotShowBlock>
    <!-- Intentionally left blank -->
</ng-template>