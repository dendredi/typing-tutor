<div class="type-construction-kit-wrapper">
    <app-type-construction-kit (onTypedefsChange)="onTypedefsChange($event)" (onDeclarationsChange)="onDeclarationsChange($event)"></app-type-construction-kit>
</div>
<div class="content-wrapper">
    <div class="row">
        <div class="col-sm-2">
            <div class="left-panel-wrapper">
                <div class="typedef-wrapper">
                    <app-typedef-table [typeDefs]="typeDefs"></app-typedef-table>
                </div>
                <div class="declarations-wrapper">
                    <app-declarations-table [declarations]="declarations"></app-declarations-table>
                </div>
                <div class="expression-input-wrapper">
                    <input class="expression-input" #inputExpression type="text" placeholder="Enter expression" (change)="onChangeExpression()">
                </div>
                <div class="ast-wrapper">
                    <div *ngIf="isAstValid; then astValidBlock else astInvalidBlock"></div>
                    <ng-template #astValidBlock>
                        <div echarts [options]="_graphOptions"></div>
                    </ng-template>
                    <ng-template #astInvalidBlock>
                        <!-- Intentionally left blank -->
                    </ng-template>
                </div>
            </div>
        </div>
        <div class="col-sm-10">
            <div class="right-panel-wrapper">
                <div class="typing-tree-wrapper" *ngIf="isAstValid && !typingErrorMessage">
                    <app-typing-tree [typingTree]="typingTree"></app-typing-tree>
                </div>
                <div *ngIf="typingErrorMessage">
                    {{typingErrorMessage}}
                </div>
            </div>
        </div>
    </div>
</div>